import{D as b,E as h,H as A,a1 as L,aE as D,f as n,R as y,T as E,K as k,aI as R,J as p,a9 as S,aa as N,I as w,L as $,aJ as O,O as J,ax as z,U as K,aK as q,an as H,aH as F,a8 as C,Q as G,_ as U,u as j,a as M,r as I,o as Q,b as Y,c as W,B as X}from"./index-c14d0632.js";import{N as Z}from"./index-03909772.js";const[B,ee]=b("radio-group"),te={shape:String,disabled:Boolean,iconSize:y,direction:String,modelValue:E,checkedColor:String},P=Symbol(B);var ae=h({name:B,props:te,emits:["change","update:modelValue"],setup(e,{emit:t,slots:o}){const{linkChildren:l}=A(P),u=r=>t("update:modelValue",r);return L(()=>e.modelValue,r=>t("change",r)),l({props:e,updateValue:u}),D(()=>e.modelValue),()=>{var r;return n("div",{class:ee([e.direction]),role:"radiogroup"},[(r=o.default)==null?void 0:r.call(o)])}}});const se=k(ae),[oe,V]=b("tag"),ne={size:String,mark:Boolean,show:p,type:S("default"),color:String,plain:Boolean,round:Boolean,textColor:String,closeable:Boolean};var le=h({name:oe,props:ne,emits:["close"],setup(e,{slots:t,emit:o}){const l=a=>{a.stopPropagation(),o("close",a)},u=()=>e.plain?{color:e.textColor||e.color,borderColor:e.color}:{color:e.textColor,background:e.color},r=()=>{var a;const{type:s,mark:d,plain:c,round:i,size:m,closeable:_}=e,f={mark:d,plain:c,round:i};m&&(f[m]=m);const x=_&&n(w,{name:"cross",class:[V("close"),N],onClick:l},null);return n("span",{style:u(),class:V([f,s])},[(a=t.default)==null?void 0:a.call(t),x])};return()=>n(R,{name:e.closeable?"van-fade":void 0},{default:()=>[e.show?r():null]})}});const de=k(le),re=$({},O,{shape:String}),[ce,ie]=b("radio");var ue=h({name:ce,props:re,emits:["update:modelValue"],setup(e,{emit:t,slots:o}){const{parent:l}=J(P),u=()=>(l?l.props.modelValue:e.modelValue)===e.name,r=()=>{l?l.updateValue(e.name):t("update:modelValue",e.name)};return()=>n(q,K({bem:ie,role:"radio",parent:l,checked:u(),onToggle:r},e),z(o,["default","icon"]))}});const me=k(ue),[ge,g]=b("address-item");var fe=h({name:ge,props:{address:H(Object),disabled:Boolean,switchable:Boolean,defaultTagText:String,rightIcon:S("edit")},emits:["edit","click","select"],setup(e,{slots:t,emit:o}){const l=()=>{e.switchable&&o("select"),o("click")},u=()=>n(w,{name:e.rightIcon,class:g("edit"),onClick:s=>{s.stopPropagation(),o("edit"),o("click")}},null),r=()=>{if(t.tag)return t.tag(e.address);if(e.address.isDefault&&e.defaultTagText)return n(de,{type:"primary",round:!0,class:g("tag")},{default:()=>[e.defaultTagText]})},a=()=>{const{address:s,disabled:d,switchable:c}=e,i=[n("div",{class:g("name")},[`${s.name} ${s.tel}`,r()]),n("div",{class:g("address")},[s.address])];return c&&!d?n(me,{name:s.id,iconSize:18},{default:()=>[i]}):i};return()=>{var s;const{disabled:d}=e;return n("div",{class:g({disabled:d}),onClick:l},[n(F,{border:!1,titleClass:g("title")},{title:a,"right-icon":u}),(s=t.bottom)==null?void 0:s.call(t,$({},e.address,{disabled:d}))])}}});const[be,v,he]=b("address-list"),_e={list:C(),modelValue:y,switchable:p,disabledText:String,disabledList:C(),showAddButton:p,addButtonText:String,defaultTagText:String,rightIcon:S("edit")};var ve=h({name:be,props:_e,emits:["add","edit","select","clickItem","editDisabled","selectDisabled","update:modelValue"],setup(e,{slots:t,emit:o}){const l=(a,s,d)=>{const c=()=>o(d?"editDisabled":"edit",a,s),i=()=>o("clickItem",a,s),m=()=>{o(d?"selectDisabled":"select",a,s),d||o("update:modelValue",a.id)};return n(fe,{key:a.id,address:a,disabled:d,switchable:e.switchable,defaultTagText:e.defaultTagText,rightIcon:e.rightIcon,onEdit:c,onClick:i,onSelect:m},{bottom:t["item-bottom"],tag:t.tag})},u=(a,s)=>{if(a)return a.map((d,c)=>l(d,c,s))},r=()=>e.showAddButton?n("div",{class:[v("bottom"),"van-safe-area-bottom"]},[n(G,{round:!0,block:!0,type:"primary",text:e.addButtonText||he("add"),class:v("add"),onClick:()=>o("add")},null)]):void 0;return()=>{var a,s;const d=u(e.list),c=u(e.disabledList,!0),i=e.disabledText&&n("div",{class:v("disabled-text")},[e.disabledText]);return n("div",{class:v()},[(a=t.top)==null?void 0:a.call(t),n(se,{modelValue:e.modelValue},{default:()=>[d]}),i,c,(s=t.default)==null?void 0:s.call(t),r()])}}});const ke=k(ve);const pe={class:"shipAddress"},Se={__name:"ShipaddressView",setup(e){j();const t=M(),o=I("1"),l=I([]),u=()=>{const i=JSON.parse(localStorage.getItem("user")).addressList;l.value=i,console.log(l)},r=()=>{X("新增地址"),t.push({name:"newAddress",query:{}})},a=(c,i)=>{console.log(c),t.push({name:"editAddress",query:{item:JSON.stringify(c)}})},s=(c,i)=>{let T=t.options.history.state.back.split("?")[0].split("/")[1];console.log(T),T==="payment"&&(t.replace(`${t.options.history.state.back}`),localStorage.setItem("addressInfo",JSON.stringify(c)))};function d(){t.back()}return Q(()=>{u()}),(c,i)=>{const m=Z,_=ke;return Y(),W("div",pe,[n(m,{title:"收货地址","left-arrow":"",onClickLeft:d}),n(_,{modelValue:o.value,"onUpdate:modelValue":i[0]||(i[0]=f=>o.value=f),list:l.value,"default-tag-text":"默认",onAdd:r,onEdit:a,onSelect:s},null,8,["modelValue","list"])])}}},Ce=U(Se,[["__scopeId","data-v-090f1693"]]);export{Ce as default};
