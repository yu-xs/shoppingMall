import{_ as y,a as I,x as P,y as i,b as u,c as m,e as s,w as g,z as V,d as o,f as _,k as c,h as f,g as B,A as C,B as R,C as S,p as L,n as T,I as U}from"./index-c14d0632.js";import{_ as z}from"./loginLogo-fa5a1cf8.js";const p=r=>(L("data-v-4b7083ae"),r=r(),T(),r),D={class:"login"},$=p(()=>s("div",{class:"topBox"},[s("p",{class:"title"},"注册账号"),s("img",{src:z})],-1)),A={class:"inputBox"},E={key:0,class:"error"},F={key:1,class:"error"},J={class:"protocol"},M=p(()=>s("a",{href:"#"},"用户协议",-1)),O=p(()=>s("a",{href:"#"},"隐私政策",-1)),j={class:"bottomBox"},q=["disabled"],G={__name:"RegisterView",setup(r){let h=I(),e=P({checked:0,userName:"",userPsd:""});function k(){h.replace({name:"login"})}function w(){const n={nickname:e.userName,username:e.userName,password:e.userPsd,userImg:"https://m.mi.com/static/img/avatar.76a75b8f17.png",addressList:[],orderList:[]};localStorage.setItem("user",JSON.stringify(n)),R("注册成功!"),h.replace({name:"login"})}const d=i(()=>{const n=/^(?:(?:\+|00)86)?1[3-9]\d{9}$/;return e.userName&&n.test(e.userName)}),l=i(()=>e.userPsd&&e.userPsd.length>=10),N=i(()=>e.checked===!0&&d.value&&l.value?(console.log("条件满足"),"opacity: 1"):(console.log("条件不满足"),"opacity: 0.5")),b=i(()=>e.checked&&d.value&&l.value);return(n,t)=>{const v=U,x=S;return u(),m("div",D,[$,s("div",A,[g(s("input",{type:"number","onUpdate:modelValue":t[0]||(t[0]=a=>o(e).userName=a),placeholder:"手机号码/账号ID"},null,512),[[V,o(e).userName,void 0,{trim:!0}]]),o(e).userName&&!d.value?(u(),m("div",E,[_(v,{name:"warning-o"}),c(" 手机号码格式不正确")])):f("",!0),g(s("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=a=>o(e).userPsd=a),placeholder:"请输入密码"},null,512),[[V,o(e).userPsd,void 0,{trim:!0}]]),o(e).userPsd&&!l.value?(u(),m("div",F,[_(v,{name:"warning-o"}),c(" 密码长度必须大于等于10")])):f("",!0),s("div",J,[_(x,{modelValue:o(e).checked,"onUpdate:modelValue":t[2]||(t[2]=a=>o(e).checked=a)},{default:B(()=>[c(" 已阅读并同意 "),M,c(" 和 "),O]),_:1},8,["modelValue"])])]),s("div",j,[s("button",{style:C(N.value),disabled:!b.value,onClick:w},"注册",12,q),s("div",{class:"login-method"},[s("span",{onClick:k},"手机号登录")])])])}}},Q=y(G,[["__scopeId","data-v-4b7083ae"]]);export{Q as default};
